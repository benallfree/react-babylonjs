---
title: 'Under 50 Lines of Code: react-babylonjs'
sort: 500
---

This guide demonstrates how to create a truly reactive Babylon.js app in **just
under 50 lines of code**. We learn how to make custom Babylon React components,
and how to use some helpful hooks like `useScene`, `useBeforeRender`.

# Creating a Basic Scene

Let's take a look at a basic `react-babylonjs` container. In it, we use the
`Engine` and `Scene` tags of `react-bablylonjs`. These perform boilerplate
initialization. Everything you might like to add to a scene will go inside the
`Scene` tag.

```tsx
import { Engine, Scene } from 'react-babylonjs'

const BabylonApp: FC = () => (
  <div style={{ flex: 1, display: 'flex' }}>
    <Engine antialias adaptToDeviceRatio canvasId="babylonJS">
      <Scene>{children}</Scene>
    </Engine>
  </div>
)
```

The above code is good, but it can be better decomposed into two components. The
React concepts of _loose coupling_ and _composition_ are ideas we'll keep
demonstrating in these guides.

```tsx
import { Engine, Scene } from 'react-babylonjs'

const BasicScene: FC = ({ children }) => (
  <Engine antialias adaptToDeviceRatio canvasId="babylonJS">
    <Scene>{children}</Scene>
  </Engine>
)

const BabylonApp: FC = ({ children }) => (
  <div style={{ flex: 1, display: 'flex' }}>
    <BasicScene>{children}</BasicScene>
  </div>
)
```

# Introducing `@react-babylonjs/extra`

As we go through the tutorials, we will be using components and helpers from
`@react-babylonjs/extra`. We tuck a lot of goodies in there that, while not part
of the core react-babylonjs experience, may help you along your way. It's
completely modular and tree shakable ES6. You can find `BasicScene` and
`BabylonApp` this way:

```js
import { BasicScene, BabylonApp } from '@react-babylonjs/extra'
```

# Adding light, camera, and surface

The scene above won't display anything. To see something, we need to add light,
a camera, and something to look at. Let's do that now.

As we go along, it's important to understand a Typescript concept known as
[intrinsic JSX](https://www.typescriptlang.org/docs/handbook/jsx.html#intrinsic-elements).
Where we had to explicitly import `Egnine` and `Scene`, there are many tags
related to Babylon.js that are already known to React. We will use `freeCamera`,
`hemisphericLight`, and `ground`. Those are all _intrinsic_, meaning we don't
need an `import` statement to use them.

Let's make a little helper function. Babylon.js defines a `Vector3` class which
is used very frequently. We'll make a helper for it. When you see `v3` anywhere,
it's coming from this:

```tsx
import { Vector3 } from '@babylonjs/core'

const v3 = (x = 0, y = 0, z = 0) => new Vector3(x, y, z)
```

You can find this as:

```js
import { v3 } from '@react-babylonjs/extra'
```

Now with that in place, here's how we can add a camera, light, and ground to our
scene.

```tsx
import { BabylonApp, v3 } from '@react-babylonjs/extra'

const App: FC = () => {
  return (
    <BabylonApp>
      <freeCamera name="camera1" position={v3(0, 5, -10)} setTarget={[v3()]} />
      <hemisphericLight name="light1" intensity={0.7} direction={v3(0, 1, 0)} />
      <ground name="ground" width={6} height={6} />
    </BabylonApp>
  )
}
```

Here's the final result of that basic scene:

[devtool:BasicScene.tsx]

Now that we have a basic scene in place, let's make that spinning box like we
did before, but this time, do it React style.

```tsx
<box name="box" size={2} position={v3(0, 1, 0)} />
```

```tsx
const RPM = 5

const MovingBox: FC = () => {
  // access Babylon Scene
  const scene = useScene()
  // access refs to Babylon objects in scene like DOM nodes
  const boxRef = useRef<JSX.IntrinsicElements['box']>(null)

  useBeforeRender(() => {
    if (!boxRef.current?.rotation) return
    if (!scene) return
    const deltaTimeInMillis = scene.getEngine().getDeltaTime()
    boxRef.current.rotation.y +=
      (RPM / 60) * Math.PI * 2 * (deltaTimeInMillis / 1000)
  })

  return (
    <box ref={boxRef} name="box" size={2} position={new Vector3(0, 1, 0)} />
  )
}
```

[devtool:Declarative.tsx]
